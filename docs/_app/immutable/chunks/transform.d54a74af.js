import{a as G,t as T}from"./index.795a1867.js";import{G as j}from"./scheduler.00266e5e.js";function C(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function q(t,e){T(t,1,1,()=>{e.delete(t.key)})}function D(t,e){t.f(),q(t,e)}function E(t,e,l,X,Y,k,u,M,g,S,d,A){let h=t.length,o=k.length,c=h;const p={};for(;c--;)p[t[c].key]=c;const r=[],y=new Map,w=new Map,v=[];for(c=o;c--;){const n=A(Y,k,c),s=l(n);let i=u.get(s);i?X&&v.push(()=>i.p(n,e)):(i=S(s,n),i.c()),y.set(s,r[c]=i),s in p&&w.set(s,Math.abs(c-p[s]))}const x=new Set,_=new Set;function m(n){G(n,1),n.m(M,d),u.set(n.key,n),d=n.first,o--}for(;h&&o;){const n=r[o-1],s=t[h-1],i=n.key,a=s.key;n===s?(d=n.first,h--,o--):y.has(a)?!u.has(i)||x.has(i)?m(n):_.has(a)?h--:w.get(i)>w.get(a)?(_.add(i),m(n)):(x.add(a),h--):(g(s,u),h--)}for(;h--;){const n=t[h];y.has(n.key)||g(n,u)}for(;o;)m(r[o-1]);return j(v),r}function f(t,e,l){this.k=t,this.x=e,this.y=l}f.prototype={constructor:f,scale:function(t){return t===1?this:new f(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new f(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};f.prototype;export{C as e,D as f,E as u};
